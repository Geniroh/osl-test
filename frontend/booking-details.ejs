<!doctype html>
<html class="no-js" lang="">
    <%- include('./partials/head.ejs') %>
    <body class="white-background">
        <%- include('./partials/nav.ejs') %>

        <!-- main-area -->
        <main>

            <!-- breadcrumb-area -->
            <section class="breadcrumb-area breadcrumb-bg">
                <div class="container">
                    <div class="row justify-content-center">
                        <div class="col-lg-8">
                            <div class="breadcrumb-content text-center">
                                <h2 class="title">Booking Details</h2>
                                <nav aria-label="breadcrumb">
                                    <ol class="breadcrumb">
                                        <li class="breadcrumb-item"><a href="/">Home</a></li>
                                        <li class="breadcrumb-item active" aria-current="page">Booking Details</li>
                                    </ol>
                                </nav>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!-- breadcrumb-area-end -->

            <!-- customer-details-area -->
            <section class="customer-details-area">
                <div class="container">
                    <div class="row">
                        <div class="col-12">
                            <div class="customer-details-content">
                                <div class="icon">
                                    <img src="assets/img/icon/customer_det_icon.jpg" alt="">
                                </div>
                                <div class="content">
                                    <h2 class="title">Customer Details: Please fill in with valid information.</h2>
                                    <div class="customer-progress-wrap">
                                        <div class="progress">
                                            <div class="progress-bar" role="progressbar" style="width: 50%;" aria-valuenow="50" aria-valuemin="0"
                                                aria-valuemax="100"></div>
                                        </div>
                                        <div class="customer-progress-step">
                                            <ul>
                                                <li>
                                                    <span>2</span>
                                                    <p>Guest Information</p>
                                                </li>
                                                <li>
                                                    <span>3</span>
                                                    <p>Payment</p>
                                                </li>
                                                <!-- <li>
                                                    <span>4</span>
                                                    <p>Confirmation</p>
                                                </li> -->
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!-- customer-details-area-end -->

            <!-- booking-details-area -->
            <section class="booking-details-area">
                <div class="container">
                    <div class="row justify-content-center">
                        <div class="col-73">
                            <div class="primary-contact">
                                <i class="fa-regular fa-user"></i>
                                <h2 class="title">Please fill in correctly</h2>
                            </div>
                            <div class="booking-details-wrap">
                                <form id="person-details-form" action="/payment" method="post">                                   
                                    <ul>
                                        <li>
                                            <div class="form-grp">
                                                <div class="icon">
                                                    <i class="flaticon-user-1"></i>
                                                </div>
                                                <div class="form">
                                                    <select id="title" name="title" class="form-select" aria-label="Default select example">
                                                        <option value="Mr">Mr.</option>
                                                        <option value="Mrs">Mrs.</option>
                                                        <option value="Others">Others..</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="form-grp">
                                                <input type="text" name="firstname" placeholder="First Name" required>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="form-grp">
                                                <input type="text" name="lastname" placeholder="Last Name*" required>
                                            </div>
                                        </li>
                                    </ul>

                                    <div class="gender-select">
                                        <h2 class="title">Select Your Gender*</h2>
                                        <div class="form">
                                            <select id="gender" name="gender" class="form-select" aria-label="Default select example" required>
                                                <option value="male">Male</option>
                                                <option value="female">Female</option>
                                                <option value="others">Others..</option>
                                            </select>
                                        </div>
                                    </div>
                                    
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-grp">
                                                <div class="icon">
                                                    <i class="flaticon-globe-1"></i>
                                                </div>
                                                <div class="form">
                                                    <label for="nationality">Nationality</label>
                                                    <select id="nationality" name="country" class="form-select" aria-label="Default select example" required>
                                                        <option value="Nigeria">Nigeria</option>
                                                        <option value="United States">United States</option>
                                                        <option value="Dubai">Dubai</option>
                                                        <option value="Saudi Arabia">Saudi Arabia</option>
                                                        <option value="Australia">Australia</option>
                                                        <option value="South Africa">South Africa</option>
                                                        <option value="Pakistan">Pakistan</option>
                                                        <option value="Others">Others</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-md-6">
                                            <div class="form-grp">
                                                <div class="icon">
                                                    <i class="flaticon-telephone-call"></i>
                                                </div>
                                                <div class="form">
                                                    <input type="number" name="phoneNumber" placeholder="Mobile Number *" required>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-md-6">
                                            <div class="form-grp">
                                                <div class="icon">
                                                    <i class="flaticon-arroba"></i>
                                                </div>
                                                <div class="form">
                                                    <label for="email">Your Email</label>
                                                    <input type="email" id="email" name="email" placeholder="youinfo@gmail.com" required>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-md-6">
                                            <div class="form-grp">
                                                <div class="icon">
                                                    <i class="flaticon-home"></i>
                                                </div>
                                                <div class="form">
                                                    <input type="text" name="address" placeholder="Address *" required>
                                                </div>
                                            </div>
                                        </div>
                                    </div>  
                                                                    
                                    <div id="hidden-input-container"></div>

                                    <button type="submit" class="btn mt-3">Proceed to payment</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!-- booking-details-area-end -->

        </main>
        <!-- main-area-end -->
        <%- include('./partials/footer.ejs') %>

        <script>
            const queryString = window.location.search;
            const parameters = new URLSearchParams(queryString);
            let parsedData = parameters.get('id');
            const dataArr = JSON.parse(parsedData);

            const container = document.getElementById("hidden-input-container")

            dataArr.forEach((item, index) => {
                const hiddenInput = document.createElement('input');
                hiddenInput.type = 'hidden';
                hiddenInput.name =  'reservation_id';
                hiddenInput.value = item;

                container.appendChild(hiddenInput);
            });
        </script>
        
        
    </body>
</html>
